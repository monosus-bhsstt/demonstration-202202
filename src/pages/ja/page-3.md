---
title: リリース
description: デプロイまでが開発である
layout: ../../layouts/MainLayout.astro
---

プロダクトには情熱を持ってドライに接する

## GIT:PR を活用し保守品質を担保する

![pr image](https://image.itmedia.co.jp/ait/articles/1708/01/at-it-git-15-009.jpg)

> ダブルチェックはしたの！？

> たまたま（いつも）できてませんでした。。

開発フローにプルリクエストを導入しておけば上記のやり取りはなくなります。それでもダブルチェックする側の負担を軽減できなければ人為的なミスは起こってしまうでしょう。

プルリクエストを活用するためには github の使い方よりもプロダクトバックログの考え方をアップデートする必要があります。

例えば

```
チケットxxxxxxxx
〇〇の修正。
詳細は添付資料にて
```

チケットの内容が Wants や To-Be のみとなっている場合。修正・追加したものが求められている状態であるかはチケット起票者しかわかりません。別途ミーティングを設置しても、ミーティング出席者しか把握できない内容がプロダクトに盛り込まれてしまいます。

この問題を解決するために To-Be だけではなく **Done となる条件（状態）** をチケットに追加するのが望ましいです。Done の条件はチケット起票者が設定できなくても実装者またはレビュアーが入力することで「思い → 実装」から「思い → やるべきこと → 実装」と個人の主観とプロダクトの距離を適切に取ることができ、プルリクエストが正しく機能します。

```
チケットxxxxxxxx
〇〇の修正。
詳細は添付資料にて

## Doneの条件
- 3番目のテキストが資料通りの表記に置き換わっている
- 画像はガイドライン通りに差し替える
etc
```

## CI/CD

![ci/cd image](https://codezine.jp/static/images/article/11083/basic-flow.png)

ローカル開発ではどれだけ注意しても潜在的なバグを取り除けない可能性があります。無事プルリクエストが承認されたあと設定しているコーディングルールに則って CI ツールが検査し問題がなければサーバー上へアップされるフローを構築しましょう。

複雑な実装で何度もテストサーバーへアップロードが必要になっても常に同じ条件で間違いがない状態でデプロイを実行できます。
人力で FTP アップをすると資材の過不足は根絶できませんが ci/cd ツールは設定どおりに差分ファイルのみをリリースしてくれます。

また、「毎週火曜日 23 時に定期的に実行したいリリース・検査作業がある」、「1 月 1 日 0 時にこのページをリリースしたい」という場合にも、あらため必要なアクションを設定することで開発環境やサーバーへのバッチ処理を設定できます。
